import{Z as j,ah as m,cy as U,cz as Z,cA as J,d8 as K,d9 as Q,ap as ee,$ as c,ax as M,a0 as x,a2 as I,da as te,bC as re,an as b,a7 as B,N as A,D as ae,bH as ie,U as y,c0 as D,bO as se,a3 as v,aq as w,bG as ne,db as le,a9 as oe,aw as fe,ay as ce,b9 as ge,dc as he,bX as de,aj as z,a4 as L,bn as V,dd as ue,bd as ve}from"./index.a3c5a5ee.js";var G={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},T=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),r=parseInt(e[2],10),a=parseInt(e[3],10),i=q(t,r,a);return[i[0],i[1],i[2],1,[t,r,a]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),r=parseInt(e[2],10),a=parseInt(e[3],10),i=X(t,r,a);return[i[0],i[1],i[2],1,null,[t,r,a]]}}],d=Math.round;function _(e){this.baseColor=e;var t;e&&(t=String(e).toLowerCase().replace(/ /g,""),t=G[t]?"#"+G[t]:t,t=_e(t)),t||(this.colorIsInvalid=!0),t=t||{},this.r=h(t[0]),this.g=h(t[1]),this.b=h(t[2]),this.a=h(t[3],1,1),t[4]?this.hsv={h:t[4][0],s:t[4][1],v:t[4][2]}:this.hsv=me(this.r,this.g,this.b),t[5]?this.hsl={h:t[5][0],s:t[5][1],l:t[5][2]}:this.hsl=Ee(this.r,this.g,this.b)}function _e(e){if(e==="transparent")return[0,0,0,0];for(var t=0,r=T.length,a;t<r;++t)if(a=T[t].re.exec(e),a)return T[t].process(a);return null}function h(e,t,r){return t=t||0,r=r||255,e<0||isNaN(e)?t:e>r?r:e}function pe(e,t,r){return"#"+(16777216|e<<16|t<<8|r).toString(16).slice(1)}function me(e,t,r){var a=Math.max(e,t,r),i=Math.min(e,t,r),s=a-i,n,l,o=a;if(l=a===0?0:1-i/a,a===i)n=0;else switch(a){case e:n=(t-r)/s*60,t<r&&(n+=360);break;case t:n=(r-e)/s*60+120;break;case r:n=(e-t)/s*60+240}return l*=100,o*=100/255,{h:Math.round(n),s:Math.round(l),v:Math.round(o)}}function q(e,t,r){var a=Math.floor(e%360/60),i=(100-t)*r/100,s=e%60/60*(r-i),n=i+s,l=r-s,o,f,g;switch(a){case 0:o=r,f=n,g=i;break;case 1:o=l,f=r,g=i;break;case 2:o=i,f=r,g=n;break;case 3:o=i,f=l,g=r;break;case 4:o=n,f=i,g=r;break;case 5:o=r,f=i,g=l}return[Math.round(2.55*o),Math.round(2.55*f),Math.round(2.55*g)]}function be(e,t,r,a){var i=Math.max(e,t,r);switch(i){case e:return(t-r)/a+(t<r?6:0);case t:return(r-e)/a+2;case r:return(e-t)/a+4}}function Ee(e,t,r){e=p(e,255),t=p(t,255),r=p(r,255);var a=Math.max(e,t,r),i=Math.min(e,t,r),s=a+i,n,l,o=s/2;if(a===i)n=l=0;else{var f=a-i;o>.5?l=f/(2-s):l=f/s,n=be(e,t,r,f),n/=6}return{h:d(360*n),s:d(100*l),l:d(100*o)}}function O(e,t){var r=t;return e==="r"&&(r=t+1/3),e==="b"&&(r=t-1/3),r}function De(e){return e<0&&(e+=1),e>1&&(e-=1),e}function C(e,t,r){return r=De(r),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function X(e,t,r){var a,i,s;if(e=p(e,360),t=p(t,100),r=p(r,100),t===0)a=i=s=r;else{var n=r<.5?r*(1+t):r+t-r*t,l=2*r-n;a=C(l,n,O("r",e)),i=C(l,n,O("g",e)),s=C(l,n,O("b",e))}return[d(255*a),d(255*i),d(255*s)]}function p(e,t){return e=Math.min(t,Math.max(0,parseFloat(e))),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function $(e,t,r){return t=t||0,r=r||255,!(e%1!==0||e<t||e>r||typeof e!="number"||isNaN(e))}_.prototype={constructor:_,highlight:function(e){return e=e||10,this.alter(e).toHex()},darken:function(e){return e=e||10,this.alter(-e).toHex()},alter:function(e){var t=new _;return t.r=h(this.r+e),t.g=h(this.g+e),t.b=h(this.b+e),t},blend:function(e,t){var r=e instanceof _?e:new _(e),a=new _;return a.r=h(d(this.r*(1-t)+r.r*t)),a.g=h(d(this.g*(1-t)+r.g*t)),a.b=h(d(this.b*(1-t)+r.b*t)),a},toHex:function(){return pe(this.r,this.g,this.b)},getPureColor:function(){var e=q(this.hsv.h,100,100);return new _("rgb("+e.join(",")+")")},isValidHex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isValidRGB:function(e,t,r){return!(!$(e)||!$(t)||!$(r))},isValidAlpha:function(e){return!(isNaN(e)||e<0||e>1||typeof e!="number")},colorIsInvalid:!1,fromHSL:function(e){var t=new _,r=X(e.h,e.s,e.l);return t.r=r[0],t.g=r[1],t.b=r[2],t}};var F=j(),u="dxDraggable",Se=m(U,u),Ae=m(Z,u),ye=m(J,u),we=m(K,u),Te=m(Q,u),Oe=m(ee.down,u),W="clone",k,H,Ce="content",P=e=>({x:e.pageX-c(F).scrollLeft(),y:e.pageY-c(F).scrollTop()}),$e="dx-gesture-cover",ke="dx-overlay-wrapper",He="dx-overlay-content";class Y{constructor(t,r){this._preventScroll=!0,this._component=r,t==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(t,r){var a=!1;t.some(i=>{var s=c(i),n=s.hasClass(ke),l=s.hasClass(He);return n||l?!0:(a=this._trySetScrollable(i,r),a)}),a||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(t){return(t.css(this._overFlowAttr)==="auto"||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?M(t):x(t))}_trySetScrollable(t,r){var a=c(t),i,s=this._component.option("scrollSensitivity"),n=this.isScrollable(a);return n&&(i=this._calculateDistanceToBorders(a,r),s>i[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(i[this._limitProps.start]),this._$scrollableAtPointer=a):s>i[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(i[this._limitProps.end]),this._$scrollableAtPointer=a):(n=!1,this._preventScroll=!1)),n}_calculateDistanceToBorders(t,r){var a=t.get(0),i;return a?(i=I(a),{left:r.x-i.left,top:r.y-i.top,right:i.right-r.x,bottom:i.bottom-r.y}):{}}_calculateScrollSpeed(t){var r=this._component,a=r.option("scrollSensitivity"),i=r.option("scrollSpeed");return Math.ceil(Math.pow((a-t)/a,2)*i)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var t=this._$scrollableAtPointer.closest(".dx-scrollable"),r=t.data("dxScrollable")||t.data("dxScrollView");if(r){var a=r.scrollOffset()[this._limitProps.start]+this._scrollSpeed;r.scrollTo({[this._limitProps.start]:a})}}else{var i=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](i)}var s=this._component._dragMoveArgs;s&&this._component._dragMoveHandler(s)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(t,r){if(!t)return!1;var a=I(t.get(0)),i=a[this._limitProps.start],s=a[this._sizeAttr],n=P(r),l=this._sizeAttr==="width"?n.x:n.y;return l<i||l>i+s}}var Me=te.inherit({ctor:function(e){this.callBase(),this._strategy=e},_step:function(){var e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),t&&t.scrollByStep()}}),xe=re.inherit({reset:b,dragMove:b,dragEnter:b,dragLeave:b,dragEnd:function(e){var t=this._getSourceDraggable();return t._fireRemoveEvent(e),new B().resolve()},_fireRemoveEvent:b,_getDefaultOptions:function(){return A(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),A(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new Me(this),this._horizontalScrollHelper=new Y("horizontal",this),this._verticalScrollHelper=new Y("vertical",this)},_normalizeCursorOffset:function(e){return ae(e)&&(e={h:e.x,v:e.y}),e=ie(e).map(t=>parseFloat(t)),{left:e[0],top:e.length===1?e[0]:e[1]}},_getNormalizedCursorOffset:function(e,t){return y(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)},_calculateElementOffset:function(e){var t,r,a=e.event,i=c(e.itemElement),s=c(e.dragElement),n=this._dragElementIsCloned(),l=this.option("cursorOffset"),o={left:0,top:0},f=this._initialLocate=D(s);return(n||e.initialOffset||l)&&(t=e.initialOffset||i.offset(),l&&(o=this._getNormalizedCursorOffset(l,e),isFinite(o.left)&&(t.left=a.pageX),isFinite(o.top)&&(t.top=a.pageY)),r=s.offset(),t.top-=r.top+(o.top||0)-f.top,t.left-=r.left+(o.left||0)-f.left),t},_initPosition:function(e){var t=c(e.dragElement),r=this._calculateElementOffset(e);r&&this._move(r,t),this._startPosition=D(t)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(e){var t=this.NAME;return se(t)+(e?"-"+e:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e},_attachEventHandlers:function(){if(!this.option("disabled")){var e=this._$content(),t=this._getItemsSelector(),r=this.option("allowMoveByClick"),a={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(i,s)=>{var n=this.option("group"),l=this._getSourceDraggable().option("group"),o=this._getScrollable(i);return this._verticalScrollHelper.isOutsideScrollable(o,s)||this._horizontalScrollHelper.isOutsideScrollable(o,s)?!1:l&&l===n}};r&&(e=this._getArea(),v.on(e,Oe,a,this._pointerDownHandler.bind(this))),t[0]===">"&&(t=t.slice(1)),v.on(e,Se,t,a,this._dragStartHandler.bind(this)),v.on(e,Ae,a,this._dragMoveHandler.bind(this)),v.on(e,ye,a,this._dragEndHandler.bind(this)),v.on(e,we,a,this._dragEnterHandler.bind(this)),v.on(e,Te,a,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(W))},_getDragTemplateArgs:function(e,t){return{container:w(t),model:{itemData:this.option("itemData"),itemElement:w(e)}}},_createDragElement:function(e){var t=e,r=this.option("clone"),a=this._getContainer(),i=this.option("dragTemplate");return i?(i=this._getTemplate(i),t=c("<div>").appendTo(a),i.render(this._getDragTemplateArgs(e,t))):r&&(t=c("<div>").appendTo(a),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix(W),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){v.off(this._$content(),"."+u),v.off(this._getArea(),"."+u)},_move:function(e,t){ne(t||this._$dragElement,e)},_getDraggableElement:function(e){var t=this._getSourceElement();if(t)return t;var r=this.option("allowMoveByClick");if(r)return this.$element();var a=c(e&&e.target),i=this._getItemsSelector();if(i[0]===">"){var s=this._$content().find(i);s.is(a)||(a=a.closest(s))}return a},_getSourceElement:function(){var e=this._getSourceDraggable();return e._$sourceElement},_pointerDownHandler:function(e){if(!le(e)){var t={},r=this.$element(),a=this.option("dragDirection");(a==="horizontal"||a==="both")&&(t.left=e.pageX-r.offset().left+D(r).left-M(r)/2),(a==="vertical"||a==="both")&&(t.top=e.pageY-r.offset().top+D(r).top-x(r)/2),this._move(t,r),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement:function(e,t){var r=this.option("handle"),a=c(e.originalEvent&&e.originalEvent.target);return r&&!a.closest(r).length||!t.length?!1:!t.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler:function(e){var t=this._getDraggableElement(e);if(!this._isValidElement(e,t)){e.cancel=!0;return}if(!this._$sourceElement){var r=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(r),r.cancel){e.cancel=!0;return}this.option("itemData",r.itemData),this._setSourceDraggable(),this._$sourceElement=t;var a=t.offset(),i=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(i.children());var s=i.css("position")==="fixed";this._initPosition(A({},r,{dragElement:i.get(0),initialOffset:s&&a})),this._getAction("onDraggableElementShown")(oe({},r,{dragElement:i}));var n=this._getArea(),l=this._getAreaOffset(n),o=this._getBoundOffset(),f=fe(n),g=ce(n),S=M(i),E=x(i),N=i.offset().left-l.left,R=i.offset().top-l.top;n.length&&(e.maxLeftOffset=N-o.left,e.maxRightOffset=f-N-S-o.right,e.maxTopOffset=R-o.top,e.maxBottomOffset=g-R-E-o.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset:function(e){var t=e&&ge.offset(e);return t||{left:0,top:0}},_toggleDraggingClass:function(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass:function(e,t){var r=t||this._$sourceElement;r&&r.toggleClass(this._addWidgetPrefix("source"),e)},_setGestureCoverCursor:function(e){c(".".concat($e)).css("cursor",e.css("cursor"))},_getBoundOffset:function(){var e=this.option("boundOffset");return y(e)&&(e=e.call(this)),he(e)},_getArea:function(){var e=this.option("boundary");return y(e)&&(e=e.call(this)),c(e)},_getContainer:function(){var e=this.option("container");return e===void 0&&(e=de()),c(e)},_dragMoveHandler:function(e,t){if(this._dragMoveArgs=e,!this._$dragElement){e.cancel=!0;return}var r=e.offset,a=this._startPosition;this._move({left:a.left+r.x,top:a.top+r.y}),t||this._updateScrollable(e);var i=this._getEventArgs(e);if(this._getAction("onDragMove")(i),i.cancel!==!0){var s=this._getTargetDraggable();s.dragMove(e,t)}},_updateScrollable:function(e){if(this.option("autoScroll")){var t=P(e),r=z.elementsFromPoint(t.x,t.y);this._verticalScrollHelper.updateScrollable(r,t),this._horizontalScrollHelper.updateScrollable(r,t)}},_getScrollable:function(e){var t;return e.parents().toArray().some(r=>{var a=c(r);if(this._horizontalScrollHelper.isScrollable(a)||this._verticalScrollHelper.isScrollable(a))return t=a,!0}),t},_defaultActionArgs:function(){var e=this.callBase.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e},_getEventArgs:function(e){var t=this._getSourceDraggable(),r=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:w(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:r.option("component")||r,fromData:t.option("data"),toData:r.option("data")}},_getDragStartArgs:function(e,t){var r=this._getEventArgs(e);return{event:r.event,itemData:r.itemData,itemElement:t,fromData:r.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(e){var t=new B,r=this._getEventArgs(e),a=this._getEventArgs(e),i=this._getTargetDraggable(),s=!0;try{this._getAction("onDragEnd")(r)}finally{L(V(r.cancel)).done(n=>{if(!n&&(i!==this&&i._getAction("onDrop")(a),!a.cancel)){s=!1,L(V(i.dragEnd(r))).always(t.resolve);return}t.resolve()}).fail(t.resolve),t.done(()=>{s&&this._revertItemToInitialPosition(),this.reset(),i.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()})}},_isTargetOverAnotherDraggable:function(e){var t=this._getSourceDraggable();if(this===t)return!1;var r=t._$dragElement,a=t.$element(),i=this.$element(),s=P(e),n=z.elementsFromPoint(s.x,s.y),l=n.filter(S=>{var E=c(S);if(E.hasClass(this._addWidgetPrefix()))return!E.closest(r).length})[0],o=this._getSourceElement(),f=l===a.get(0),g=c(l).closest(o).length;return!l||l===i.get(0)&&!f&&!g},_dragEnterHandler:function(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable();var t=this._getSourceDraggable();t.dragEnter(e)},_dragLeaveHandler:function(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var t=this._getSourceDraggable();t.dragLeave(e)},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_getAnonymousTemplateName:function(){return Ce},_initTemplates:function(){!this.option("contentTemplate")||(this._templateManager.addDefaultTemplates({content:new ue}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&c(t.render({container:this.element(),transclude:e}))},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDraggableElementShown":this["_"+t+"Action"]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(e)}},_getTargetDraggable:function(){return k||this},_getSourceDraggable:function(){return H||this},_setTargetDraggable:function(){var e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(k=this)},_setSourceDraggable:function(){H=this},_resetSourceDraggable:function(){H=null},_resetTargetDraggable:function(){k=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragEnter")(t)},_fireDragLeaveEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}});ve(u,xe);export{_ as C,xe as D};
