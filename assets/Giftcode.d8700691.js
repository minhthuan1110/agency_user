import{v as m,d as y,u as w,c as g,r as u,o as R,g as G,h as S,i as t,t as p,x as $,dl as x,y as B,p as b,q as k,dv as C,B as T,dx as E,s as I}from"./index.a3c5a5ee.js";import"./BaseInput.9f8543fa.js";import"./text_box.c18f19ed.js";class N extends m{constructor(){super(),this.prefixApi="api",this.controllerName="gift"}async applyGift(d,o=null){const c=`${this.baseUrl}/${this.prefixApi}/${this.controllerName}`;return await this.http.post(c,d,o)}}const A=new N,L=n=>(b("data-v-84e3d0be"),n=n(),k(),n),V={class:"container giftcode-container"},F={class:"title mb-4"},P={class:"card"},j={class:"mb-3 row w-100"},q={class:"w-30"},z={class:"flex1 input_cus"},D=["placeholder","value"],K=L(()=>t("span",{class:"focus-border"},null,-1)),M={class:"row justify-content-center mt-4"},U=y({__name:"Giftcode",setup(n){const{emit:d}=C(),o=w(),{t:c}=g(),l=new T,i=u({code:""}),r=u(!1);R(()=>{});async function f(e=""){return await(o==null?void 0:o.recaptchaLoaded()),await(o==null?void 0:o.executeRecaptcha(e))}async function _(){r.value=!0;const a={headers:{captcha:await f("ApplyGiftCode")}},s=await A.applyGift(i.value,a);s&&s.data?(d(E.RefreshProfile,!0),l.showToastSuccess(c("RedeemRewardSuccess")),i.value={code:""}):s.errorCode===1001?l.showToastError(c("GiftCodeNotFound")):l.showToastError(c("RedeemRewardFailed")),r.value=!1}function v(e){i.value.code=e.target.value}function h(e){setTimeout(()=>{e.component.focus()},0)}return(e,a)=>(G(),S("div",V,[t("div",F,p(e.$t("Giftcode")),1),t("div",P,[t("div",j,[t("div",q,[t("span",null,p(e.$t("Giftcode")),1)]),t("div",z,[t("input",{class:"effect-2 px-2",placeholder:e.$t("Giftcode_Placeholder"),value:i.value.code,"on:onContentReady":h,onKeyup:a[0]||(a[0]=s=>v(s))},null,40,D),K])]),t("div",M,[$(B,{text:e.$t("RedeemReward"),style:x(`background-color: ${e.colorRender}; color: ${e.colorTextRender}`),"styling-mode":"contained",loading:r.value,onClick:a[1]||(a[1]=s=>_(s))},null,8,["text","style","loading"])])])]))}});const Q=I(U,[["__scopeId","data-v-84e3d0be"]]);export{Q as default};
