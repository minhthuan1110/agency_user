import{d as _e,di as me,e as A,u as ve,b as Ie,r as s,c as Te,f as v,w as fe,o as Ee,g as Q,h as ge,i as n,x as d,m as y,k as r,dj as F,dk as H,j as Se,y as he,n as Ce,F as Ae,p as ye,q as Oe,B as De,s as Ne}from"./index.a3c5a5ee.js";import{_ as Pe}from"./BaseGrid.e652126b.js";import Z from"./BaseSelectBox.e7e590d5.js";import xe from"./BasePopupDelete.b52e37da.js";import{C as l}from"./ColumnDataGrid.23bec9a2.js";import{L as Ve,a as we,b as Le,O as X}from"./order-service.5ecf97c1.js";import Re from"./CreateOrderTheme4.0acb3c11.js";import{L as J}from"./list-status.a9bf9ad2.js";import{L as be}from"./list-application.74b2f8af.js";import{D as ee,_ as ke}from"./tabs.8d37648c.js";import"./CreateOrderRight4.1abee839.js";import{l as Ue}from"./idService.096f6176.js";import"./select_box.05db16a2.js";import"./text_box.c18f19ed.js";import"./popover.51293f7e.js";import"./number_box.546ccd32.js";import"./draggable.1b572f7d.js";import"./BaseInput.9f8543fa.js";import"./BaseNumberBox2.a0cd7526.js";import"./BaseRadioGroup.b3beaa81.js";import"./BaseTextArea.05bfe592.js";import"./service-type-enum.bf595476.js";import"./comments-service.768ee57a.js";import"./list-bank-v2.764adf30.js";const Me="/assets/cart.4fe67c2a.svg",Be="/assets/file-com.0b93615f.svg",b=f=>(ye("data-v-bdd0216b"),f=f(),Oe(),f),Ke={class:"container theme-4",id:"service-theme4"},Ye=b(()=>n("div",{class:"d-flex justify-content-between align-items-center mb-3"},null,-1)),Ge={class:"d-flex box-oder-like"},ze={class:"box-left"},$e=b(()=>n("img",{class:"icon-title-order",src:Me},null,-1)),qe=b(()=>n("img",{class:"icon-title-order",src:Be},null,-1)),je={class:"d-flex"},We={class:"mr-2",style:{display:"none"}},Qe={class:"mt-4"},Fe={class:"grid-service-package mt-3"},He={class:"d-flex align-items-center"},Ze=_e({__name:"ServicePackage_Theme4",setup(f){const O=me(),Xe=A(()=>O.color.value),Je=A(()=>O.colorText.value),et=A(()=>O.colorBorder.value),p=ve(),D=Ie(),E=s(0),{t:i}=Te(),k=new De;let N=s(1),g=s(25),U=s(0);const te=A(()=>{var e,t,o;return{Application:((e=B.value)==null?void 0:e.ID)||0,Status:(t=h.value)==null?void 0:t.ID,ServiceType:(o=S.value)==null?void 0:o.ID,SkipCount:(N.value-1)*g.value,MaxResultCount:g.value}}),M=s(new Array);let P=s([]),x=s(!1);const tt={symbol:{VITE_BASE_URL:"https://api.like1.online",VITE_CLIENT_ID:"admin_autofarmer",VITE_CLIENT_SECRET:"K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=",VITE_ORIGIN_AGENCY:"auto",VITE_VIETQR_URL:"https://img.vietqr.io/image/<BANK_ID>-<ACCOUNT_NO>-<TEMPLATE>.png?amount=<AMOUNT>&addInfo=<DESCRIPTION>&accountName=<ACCOUNT_NAME>",VITE_VIETQR_TEMPLATE:"SquX4mZ",VITE_LINK_APP_DESKTOP:"https://shorturl.at/akrZ5",VITE_LINK_APP_MOBILE:"https://shorturl.at/lzIOY",VITE_SITE_KEY:"6LeElsojAAAAAFM3pM6lp0GYtpITw_6x2bzj4L8W",VITE_IS_USE_RECAPTCHA:"true",VITE_TIMEOUT_TRANSACTON:"5000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_APPROVE_AGENCY_SYMBOL,ip:{VITE_BASE_URL:"https://api.like1.online",VITE_CLIENT_ID:"admin_autofarmer",VITE_CLIENT_SECRET:"K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=",VITE_ORIGIN_AGENCY:"auto",VITE_VIETQR_URL:"https://img.vietqr.io/image/<BANK_ID>-<ACCOUNT_NO>-<TEMPLATE>.png?amount=<AMOUNT>&addInfo=<DESCRIPTION>&accountName=<ACCOUNT_NAME>",VITE_VIETQR_TEMPLATE:"SquX4mZ",VITE_LINK_APP_DESKTOP:"https://shorturl.at/akrZ5",VITE_LINK_APP_MOBILE:"https://shorturl.at/lzIOY",VITE_SITE_KEY:"6LeElsojAAAAAFM3pM6lp0GYtpITw_6x2bzj4L8W",VITE_IS_USE_RECAPTCHA:"true",VITE_TIMEOUT_TRANSACTON:"5000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_APPROVE_AGENCY_IP},at=s(!1),st=s(!1),ot=s(!1),V=v(be),I=v(Ve),ae=v(we),_=s([]),B=s(V[0]),S=s(),K=()=>{const e=Ue.find(t=>D.path.toLowerCase().includes(t.id.toLowerCase()));e?S.value=I.find(t=>t.ID==e[D.params.service]):K()},h=s({}),nt=s(!1),se=v(Le),w=s(!1),L=s(!1);let Y="";fe(()=>D.path,async e=>{B.value=V.find(t=>t.Path==e),K(),m()},{immediate:!0}),Ee(()=>{oe()});async function G(e=""){return await(p==null?void 0:p.recaptchaLoaded()),await(p==null?void 0:p.executeRecaptcha(e))}function oe(){_.value=v(J),console.log("cloneData(ListStatus)",v(J)),_.value.forEach(e=>{e.StatusDisplay=i(e.ResourceKey)}),h.value=_.value[1],M.value=[new l("#","Index","60px"),new l(i("Order.Code"),"code"),new l(i("Order.UrlService"),"urlService","320px"),new l(i("Order.Quantity"),"quantity","auto","","left",!1,"","","number","#,##0.##"),new l(i("Order.Completed"),"completedQuantity","auto","","left",!1,"","","number","#,##0.##"),new l(i("Order.Speed"),"SpeedDisplay"),new l(i("Order.Warranty"),"WarrantyDisplay"),new l(i("Order.Total"),"price","120px","","left",!1,"","","number","#,##0.## \u0111"),new l(i("Order.CreatedDate"),"creationTime","auto","","center",!1,"","","date","dd/MM/yyyy HH:mm:ss"),new l(i("Order.Action"),"action","125px","custom","center",!0,"right")]}function ne(e){const t=new URLSearchParams;return t.append("application",e.Application),t.append("status",e.Status),t.append("serviceType",e.ServiceType),t.append("skipCount",e.SkipCount),t.append("maxResultCount",e.MaxResultCount),t}async function m(){x.value=!0,P.value=[];const e=await G("GetOrder"),o={params:ne(te.value),headers:{captcha:e}},C=await X.getPaging(o);if(C&&C.data){const R=C.data;U.value=R.totalCount,R.items.forEach((a,pe)=>{var $,q,j,W;a.Index=pe+1,a.Fullname=(a.user.surName||"")+" "+(a.user.name||""),(a.user.name?a.user.name+" - ":"")+a.user.phoneNumber,a.ApplicationDisplay=(($=V.find(u=>{var c,T;return u.ID==((T=(c=a.service)==null?void 0:c.service)==null?void 0:T.application)}))==null?void 0:$.Name)||"",a.ServiceTypeDisplay=((q=I.find(u=>{var c,T;return u.ID==((T=(c=a.service)==null?void 0:c.service)==null?void 0:T.serviceType)}))==null?void 0:q.Name)||"",a.speed&&(a.SpeedDisplay=((j=se.find(u=>{var c;return u.ID==((c=a.speed)==null?void 0:c.type)}))==null?void 0:j.Name)||""),a.warranty&&(a.WarrantyDisplay=a.warranty.time+" "+((W=ae.find(u=>u.ID==a.warranty.timeUnit))==null?void 0:W.Name)||"")}),P.value=R.items}setTimeout(()=>{x.value=!1},50)}function ie(e){g.value=e,m()}function le(e){N.value=e,m()}function re(e){S.value=I.find(t=>t.ID==e)||I[0],m()}function ce(e){h.value=_.value.find(t=>t.ID==e)||_.value[0],m()}function de(e){!e||(Y=e.id,w.value=!0)}function z(){L.value=!1,w.value=!1}async function ue(){L.value=!0;const t={headers:{captcha:await G("CancelOrder")}},o=await X.cancelOrder(Y,null,t);o&&o.data?(k.showToastSuccess("Cancel Order Success!"),m()):k.showToastError("Cancel Order Error!"),z()}return(e,t)=>(Q(),ge(Ae,null,[n("div",Ke,[Ye,n("div",Ge,[n("div",ze,[d(r(ke),{"selected-index":E.value,"onUpdate:selected-index":t[0]||(t[0]=o=>E.value=o),class:"tabs-box-list"},{default:y(()=>[d(r(ee),{badge:e.$t("Buy_Service"),class:"tabs-item"},{default:y(()=>[$e]),_:1},8,["badge"]),d(r(ee),{badge:e.$t("History"),class:"tabs-item"},{default:y(()=>[qe]),_:1},8,["badge"])]),_:1},8,["selected-index"]),F(n("div",null,[n("div",je,[n("div",We,[d(Z,{width:"200px",keyID:"ID",display:"Name",dataSource:r(I),value:S.value.ID,searchEnabled:!1,onOnValueChanged:t[1]||(t[1]=o=>re(o))},null,8,["dataSource","value"])]),n("div",Qe,[d(Z,{width:"200px",keyID:"ID",display:"StatusDisplay",dataSource:_.value,value:h.value.ID,searchEnabled:!1,onOnValueChanged:t[2]||(t[2]=o=>ce(o))},null,8,["dataSource","value"])])]),n("div",Fe,[d(Pe,{loading:r(x),dataSource:r(P),columns:M.value,total:r(U),pageIndex:r(N),pageSize:r(g),width:"100%",height:"calc(100vh - 261px)",onChangePageSize:ie,onChangePageIndex:le},{action:y(({data:o})=>[n("div",He,[o.data.status==1?(Q(),Se(he,{key:0,width:"92px",text:e.$t("Cancel"),type:"danger","styling-mode":"outlined",onOnClick:C=>de(o.data)},null,8,["text","onOnClick"])):Ce("",!0)])]),_:1},8,["loading","dataSource","columns","total","pageIndex","pageSize"])])],512),[[H,E.value==1]]),F(n("div",null,[d(Re)],512),[[H,E.value==0]])])])]),d(xe,{title:e.$t("CancelOrder"),content:e.$t("ContentCancelOrder"),isVisible:w.value,loading:L.value,textButton:e.$t("Agree"),onClosePopup:z,onOnDelete:ue},null,8,["title","content","isVisible","loading","textButton"])],64))}});const Vt=Ne(Ze,[["__scopeId","data-v-bdd0216b"]]);export{Vt as default};
